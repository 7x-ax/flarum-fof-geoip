{"version":3,"sources":["webpack://@fof/geoip/webpack/bootstrap","webpack://@fof/geoip/external \"flarum.core.compat['Model']\"","webpack://@fof/geoip/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/geoip/external \"flarum.core.compat['Component']\"","webpack://@fof/geoip/external \"flarum.core.compat['extend']\"","webpack://@fof/geoip/./node_modules/@babel/runtime/regenerator/index.js","webpack://@fof/geoip/./node_modules/load.js/lib/load.js","webpack://@fof/geoip/external \"flarum.core.compat['components/Alert']\"","webpack://@fof/geoip/external \"flarum.core.compat['components/PostMeta']\"","webpack://@fof/geoip/./node_modules/country-code-emoji/lib/index.umd.js","webpack://@fof/geoip/./node_modules/twemoji-basename/index.js","webpack://@fof/geoip/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@fof/geoip/external \"flarum.core.compat['utils/mixin']\"","webpack://@fof/geoip/./node_modules/regenerator-runtime/runtime.js","webpack://@fof/geoip/./node_modules/es6-promisify/dist/promisify.js","webpack://@fof/geoip/./node_modules/@cloudcmd/create-element/lib/create-element.js","webpack://@fof/geoip/./node_modules/currify/lib/currify.js","webpack://@fof/geoip/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@fof/geoip/./src/forum/components/ZipCodeMap.js","webpack://@fof/geoip/./src/forum/models/IPInfo.js","webpack://@fof/geoip/./src/forum/index.js","webpack://@fof/geoip/./src/forum/util/getFlagEmojiUrl.js","webpack://@fof/geoip/./src/forum/util/copyToClipboard.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","constructor","__proto__","promisify","createElement","noop","addListenerOnce","el","fn","addEventListener","e","removeEventListener","load","async","src","dot","ret","lastIndexOf","substr","getExt","js","css","json","ajax","getIdBySrc","indexOf","num","sub","replace","onerror","onload","addLoadListener","addErrorListener","callback","id","document","getElementById","event","body","removeChild","rel","href","parent","head","url","request","XMLHttpRequest","open","status","data","responseText","send","error","JSON","parse","series","urls","shift","parallel","promises","map","Promise","all","_typeof","iterator","_toConsumableArray","Array","isArray","length","toString","from","TypeError","test","concat","toUpperCase","charCodeAt","String","fromCodePoint","apply","str","push","join","runtime","undefined","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","GenStateSuspendedYield","makeInvokeMethod","obj","err","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","result","__await","then","unwrapped","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","iter","keys","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","customArgumentsToken","original","argumentNames","ES6Promise","_this","_len","arguments","args","_key","_len2","_key2","index","currify","query","a","querySelector","setAttribute","set","not","f","isCamelCase","toLowerCase","isElementPresent","dataName","options","notAppend","uniq","restOptions","elFound","dataset","filter","appendChild","check","again","args2","count","b","asyncGeneratorStep","gen","_next","_throw","addedResources","addResources","ZipCodeMap","search","view","loading","size","config","configMap","app","q","props","zip","countrycodes","country","limit","format","redraw","isInitialized","bounding","boundingbox","display_name","L","setView","control","scale","addTo","tileLayer","locale","attribution","minZoom","maxZoom","marker","bindPopup","openPopup","Component","IPInfo","mixin","Model","countryCode","attribute","zipCode","isp","organization","threatLevel","threatTypes","val","getIPData","ipInfo","codepoint","basename","description","threat","flag","convert","image","alt","height","title","$","tooltip","copyIP","ip","style","position","left","selected","getSelection","rangeCount","getRangeAt","select","execCommand","removeAllRanges","addRange","copyToClipboard","alerts","show","Alert","children","translator","trans","initializers","add","store","models","ip_info","posts","hasOne","extend","PostMeta","vdom","post","find","attrs","className","includes","tag","onclick","ipAddress","unshift","BanIPModal","formGroup","label","code","codeIndex","splice"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","module.exports = flarum.core.compat['Model'];","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['extend'];","module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nconst {promisify} = require('es6-promisify');\nconst createElement = require('@cloudcmd/create-element');\n\nconst noop = () => {};\n\nconst addListenerOnce = (el, name, fn) => {\n    const listener = (e) => {\n        fn(e);\n        el.removeEventListener(name, fn);\n    };\n    \n    el.addEventListener(name, listener);\n};\n\nconst load = async (src) => {\n    const ext = getExt(src);\n    \n    switch(ext) {\n    case '.js':\n        return await load.js(src);\n    \n    case '.css':\n        return await load.css(src);\n    \n    case '.json':\n        return await load.json(src);\n    \n    default:\n        return await load.ajax(src);\n    }\n};\n\nload.onerror = noop;\nload.onload = noop;\n\nload.addLoadListener = (onload) => {\n    load.onload = onload;\n};\n\nload.addErrorListener = (onerror) => {\n    load.onerror = onerror;\n};\n\nmodule.exports = load;\n\nload.js = promisify((src, callback) => {\n    const id = getIdBySrc(src);\n    let el = document.getElementById(id);\n    \n    if (el)\n        return callback();\n    \n    el = createElement('script', {\n        id,\n        src,\n    });\n    \n    addListenerOnce(el, 'load', (event) => {\n        callback(null, event);\n        load.onload();\n    });\n    \n    addListenerOnce(el, 'error', (e) => {\n        callback(e);\n        document.body.removeChild(el);\n        load.onerror(e, src);\n    });\n});\n\nload.css = promisify((src, callback) => {\n    const id = getIdBySrc(src);\n    let el = document.getElementById(id);\n    \n    if (el)\n        return callback();\n    \n    el = createElement('link', {\n        id: getIdBySrc(src),\n        rel: 'stylesheet',\n        href: src,\n        parent: document.head,\n    });\n    \n    el.addEventListener('load', (event) => {\n        callback(null, event);\n        load.onload();\n    });\n    \n    el.addEventListener('error', (e) => {\n        callback(e);\n        document.head.removeChild(el);\n        load.onerror(e, src);\n    });\n});\n\nload.ajax = promisify((url, callback) => {\n    const request = new XMLHttpRequest();\n    \n    request.open('GET', url, true);\n    \n    request.addEventListener('load', () => {\n        if (request.status >= 200 && request.status < 400){\n            const data = request.responseText;\n            callback(null, data);\n            load.onload();\n        }\n    });\n    \n    request.addEventListener('error', (e) => {\n        load.onerror(e);\n        callback(e);\n    });\n    \n    request.send();\n});\n\nload.json = promisify((url ,callback) => {\n    load.ajax(url, (error, data) => {\n        let json;\n        \n        if (!error)\n            json = JSON.parse(data);\n        \n        callback(error, json);\n    });\n});\n\nload.series = async (urls) => {\n    const url = urls.shift();\n    \n    if (!url)\n        return;\n    \n    await load(url);\n    await load.series(urls);\n};\n\nload.parallel = async (urls) => {\n    const promises = urls.map(load);\n    return await Promise.all(promises);\n};\n\nfunction getExt(name) {\n    const isStr = typeof name === 'string';\n    let ret = '';\n    let dot;\n    \n    if (isStr) {\n        dot = name.lastIndexOf('.');\n        \n        if (~dot)\n            ret = name.substr(dot);\n    }\n    \n    return ret;\n}\n\nload.getIdBySrc = getIdBySrc;\n\nfunction getIdBySrc(src) {\n    const isStr = typeof src === 'string';\n    \n    if (!isStr)\n        return '';\n    \n    if (~src.indexOf(':'))\n        src += '-join';\n    \n    const num = src.lastIndexOf('/') + 1;\n    const sub = src.substr(src, num);\n    const id = src.replace(sub, '')\n        .replace(/\\./g, '-');\n    \n    return id;\n}\n\n","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/PostMeta'];","!function(t,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(r):(t=t||self).flag=r()}(this,function(){\"use strict\";function _typeof(t){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var r=0,o=new Array(t.length);r<t.length;r++)o[r]=t[r];return o}}(t)||function _iterableToArray(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function _nonIterableSpread(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var t=/^[a-z]{2}$/i,r=127397;return function countryCodeEmoji(o){if(!t.test(o)){var e=_typeof(o);throw new TypeError(\"cc argument must be an ISO 3166-1 alpha-2 string, but got '\".concat(\"string\"===e?o:e,\"' instead.\"))}var n=_toConsumableArray(o.toUpperCase()).map(function(t){return t.charCodeAt()+r});return String.fromCodePoint.apply(String,_toConsumableArray(n))}});\n//# sourceMappingURL=index.umd.js.map\n","/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */\n/* https://github.com/twitter/twemoji/blob/gh-pages/LICENSE */\n\nmodule.exports = function (str) {\n  var r = []\n  var c = 0\n  var p = 0\n  var i = 0\n  var l = str.length\n\n  while (i < l) {\n    c = str.charCodeAt(i++)\n    if (p) {\n      r.push((0x10000 + ((p - 0xD800) << 10) + (c - 0xDC00)).toString(16))\n      p = 0\n    } else if (0xD800 <= c && c <= 0xDBFF) {\n      p = c\n    } else {\n      r.push(c.toString(16))\n    }\n  }\n\n  return r.join('-')\n}\n","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['utils/mixin'];","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.promisify = promisify;\n// Symbols is a better way to do this, but not all browsers have good support,\n// so instead we'll just make do with a very unlikely string.\nvar customArgumentsToken = \"__ES6-PROMISIFY--CUSTOM-ARGUMENTS__\";\n/**\n * promisify()\n * Transforms callback-based function -- func(arg1, arg2 .. argN, callback) -- into\n * an ES6-compatible Promise. Promisify provides a default callback of the form (error, result)\n * and rejects when `error` is truthy.\n *\n * @param {function} original - The function to promisify\n * @return {function} A promisified version of `original`\n */\n\nfunction promisify(original) {\n  // Ensure the argument is a function\n  if (typeof original !== \"function\") {\n    throw new TypeError(\"Argument to promisify must be a function\");\n  } // If the user has asked us to decode argument names for them, honour that\n\n\n  var argumentNames = original[customArgumentsToken]; // If the user has supplied a custom Promise implementation, use it. Otherwise\n  // fall back to whatever we can find on the global object.\n\n  var ES6Promise = promisify.Promise || Promise; // If we can find no Promise implemention, then fail now.\n\n  if (typeof ES6Promise !== \"function\") {\n    throw new Error(\"No Promise implementation found; do you need a polyfill?\");\n  }\n\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return new ES6Promise(function (resolve, reject) {\n      // Append the callback bound to the context\n      args.push(function callback(err) {\n        if (err) {\n          return reject(err);\n        }\n\n        for (var _len2 = arguments.length, values = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          values[_key2 - 1] = arguments[_key2];\n        }\n\n        if (values.length === 1 || !argumentNames) {\n          return resolve(values[0]);\n        }\n\n        var o = {};\n        values.forEach(function (value, index) {\n          var name = argumentNames[index];\n\n          if (name) {\n            o[name] = value;\n          }\n        });\n        resolve(o);\n      }); // Call the function.\n\n      original.call.apply(original, [_this].concat(args));\n    });\n  };\n} // Attach this symbol to the exported function, so users can use it\n\n\npromisify.argumentNames = customArgumentsToken;\npromisify.Promise = undefined; // Export the public API","'use strict';\n\nconst currify = require('currify');\nconst query = (a) => document.querySelector(`[data-name=\"${a}\"]`);\n\nconst setAttribute = currify((el, obj, name) => el.setAttribute(name, obj[name]));\nconst set = currify((el, obj, name) => el[name] = obj[name]);\nconst not = currify((f, a) => !f(a));\nconst isCamelCase = (a) => a != a.toLowerCase();\n\nmodule.exports = (name, options = {}) => {\n    const {\n        dataName,\n        notAppend,\n        parent = document.body,\n        uniq = true,\n        ...restOptions\n    } = options;\n    \n    const elFound = isElementPresent(dataName);\n    \n    if (uniq && elFound)\n        return elFound;\n    \n    const el = document.createElement(name);\n    \n    if (dataName)\n        el.dataset.name = dataName;\n    \n    Object.keys(restOptions)\n        .filter(isCamelCase)\n        .map(set(el, options));\n    \n    Object.keys(restOptions)\n        .filter(not(isCamelCase))\n        .map(setAttribute(el, options));\n    \n    if (!notAppend)\n        parent.appendChild(el);\n    \n    return el;\n};\n\nmodule.exports.isElementPresent = isElementPresent;\n\nfunction isElementPresent(dataName) {\n    if (!dataName)\n        return;\n    \n    return query(dataName);\n}\n\n","'use strict';\n\nconst f = (fn) => [\n    /*eslint no-unused-vars: 0*/\n    function (a) {return fn(...arguments);},\n    function (a, b) {return fn(...arguments);},\n    function (a, b, c) {return fn(...arguments);},\n    function (a, b, c, d) {return fn(...arguments);},\n    function (a, b, c, d, e) {return fn(...arguments);},\n];\n\nconst currify = (fn, ...args) => {\n    check(fn);\n    \n    if (args.length >= fn.length)\n        return fn(...args);\n    \n    const again = (...args2) => {\n        return currify(fn, ...[...args, ...args2]);\n    };\n    \n    const count = fn.length - args.length - 1;\n    const func = f(again)[count];\n    \n    return func || again;\n};\n\nmodule.exports = currify;\n\nfunction check(fn) {\n    if (typeof fn !== 'function')\n        throw Error('fn should be function!');\n}\n\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import Component from 'flarum/Component';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport load from 'load.js';\n\nlet addedResources = false;\nconst addResources = async () => {\n    if (addedResources) return;\n\n    await load.css('https://unpkg.com/leaflet@1.5.1/dist/leaflet.css');\n    await load.js('https://unpkg.com/leaflet@1.5.1/dist/leaflet.js');\n\n    addedResources = true;\n};\n\nexport default class ZipCodeMap extends Component {\n    constructor() {\n        super(...arguments);\n\n        this.data = null;\n\n        this.search();\n    }\n\n    view() {\n        if (this.loading) {\n            return <LoadingIndicator size=\"medium\" />;\n        } else if (!this.data) {\n            return <div />;\n        }\n\n        return <div id=\"geoip-map\" config={this.configMap.bind(this)} />;\n    }\n\n    search() {\n        if (this.loading) return;\n\n        this.loading = true;\n\n        return addResources().then(\n            app\n                .request({\n                    url: `https://nominatim.openstreetmap.org/search`,\n                    method: 'GET',\n                    data: {\n                        q: this.props.zip,\n                        countrycodes: this.props.country,\n                        limit: 1,\n                        format: 'json',\n                    },\n                })\n                .then(data => {\n                    this.data = data[0];\n                    this.loading = false;\n\n                    m.redraw();\n                })\n        );\n    }\n\n    configMap(el, isInitialized) {\n        if (isInitialized) return;\n        if (!this.data) return;\n\n        const { boundingbox: bounding, display_name: displayName } = this.data;\n\n        this.map = L.map(el).setView([51.505, -0.09], 5);\n\n        L.control.scale().addTo(this.map);\n\n        L.tileLayer(`https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png?lang=${app.data.locale}`, {\n            attribution: '<a href=\"https://wikimediafoundation.org/wiki/Maps_Terms_of_Use\">Wikimedia</a>',\n            minZoom: 1,\n            maxZoom: 19,\n        }).addTo(this.map);\n\n        L.marker([bounding[0], bounding[2]])\n            .addTo(this.map)\n            .bindPopup(displayName)\n            .openPopup();\n    }\n}\n","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\n\nexport default class IPInfo extends mixin(Model, {\n    countryCode: Model.attribute('countryCode'),\n    zipCode: Model.attribute('zipCode'),\n    isp: Model.attribute('isp'),\n    organization: Model.attribute('organization'),\n    threatLevel: Model.attribute('threatLevels'),\n    threatTypes: Model.attribute('threatTypes', val => (val && JSON.parse(val)) || Array.wrap),\n    error: Model.attribute('error'),\n}) {}\n","import { extend } from 'flarum/extend';\nimport Alert from 'flarum/components/Alert';\nimport PostMeta from 'flarum/components/PostMeta';\nimport Model from 'flarum/Model';\n\nimport copyToClipboard from './util/copyToClipboard';\nimport getFlagEmojiUrl from './util/getFlagEmojiUrl';\nimport ZipCodeMap from './components/ZipCodeMap';\nimport IPInfo from './models/IPInfo';\n\nconst getIPData = ipInfo => {\n    const data = {\n        description: ipInfo.organization() || ipInfo.isp() || ipInfo.error() || '',\n        threat: ipInfo.threatTypes() && ipInfo.threatTypes().join(', '),\n    };\n\n    if (ipInfo.countryCode()) {\n        const url = getFlagEmojiUrl(ipInfo.countryCode());\n\n        data.image = url && (\n            <img src={url} alt={ipInfo.countryCode()} height=\"16\" loading=\"lazy\" title={ipInfo.countryCode()} config={el => $(el).tooltip()} />\n        );\n    }\n\n    return data;\n};\n\nconst copyIP = ip =>\n    function() {\n        copyToClipboard(ip);\n\n        app.alerts.show(\n            new Alert({\n                type: 'success',\n                children: app.translator.trans('fof-geoip.forum.alerts.ip_copied'),\n            })\n        );\n    };\n\napp.initializers.add('fof/geoip', () => {\n    app.store.models.ip_info = IPInfo;\n    app.store.models.posts.prototype.ipInfo = Model.hasOne('ip_info');\n\n    extend(PostMeta.prototype, 'view', function(vdom) {\n        const ipInfo = this.props.post.ipInfo();\n\n        if (!ipInfo) return;\n\n        const dropdownMenu = vdom.children.find(e => e.attrs && e.attrs.className && e.attrs.className.includes('dropdown-menu'));\n        const el = dropdownMenu.children.find(e => e.tag === 'span' && e.attrs && e.attrs.className === 'PostMeta-ip');\n\n        const { description, threat, image } = getIPData(ipInfo);\n\n        el.children[0] = (\n            <span config={el => $(el).tooltip()} title={description + (!!threat ? ` (${threat})` : '')} onclick={copyIP(this.props.post.ipAddress())}>\n                {el.children[0]}\n            </span>\n        );\n\n        if (image) {\n            el.children.unshift(image);\n        }\n\n        if (ipInfo.threatLevel) {\n            el.attrs['data-threat-level'] = ipInfo.threatLevel();\n        }\n    });\n\n    const BanIPModal = flarum.core.compat['fof/ban-ips/components/BanIPModal'];\n\n    if (BanIPModal) {\n        extend(BanIPModal.prototype, 'content', function(vdom) {\n            if (!this.post || !this.post.ipAddress()) return;\n\n            const ipInfo = this.post.ipInfo();\n            const formGroup = vdom.children.find(\n                e =>\n                    e &&\n                    e.attrs &&\n                    e.attrs.className &&\n                    e.attrs.className.includes('Form-group') &&\n                    e.children &&\n                    Array.isArray(e.children) &&\n                    e.children.find(e => e.tag === 'div')\n            );\n\n            if (!ipInfo || !formGroup) return;\n\n            for (const child of formGroup.children) {\n                const label = child.children.find(e => e && e.tag === 'label');\n                const code = label && label.children.find(e => e && e.tag === 'code');\n\n                const codeIndex = code && label.children.indexOf(code);\n                if (!code) continue;\n\n                const { description, threat, image } = getIPData(ipInfo);\n\n                if (!code.attrs) code.attrs = {};\n                code.attrs['data-threat-level'] = ipInfo.threatLevel();\n\n                code.children[1] = (\n                    <span config={el => $(el).tooltip()} title={description + (!!threat ? ` (${threat})` : '')}>\n                        {code.children[1]}\n                    </span>\n                );\n\n                if (image) {\n                    label.children.splice(codeIndex, 0, image);\n                }\n            }\n\n            if (ipInfo.zipCode() && ipInfo.countryCode()) {\n                vdom.children.splice(\n                    2,\n                    0,\n                    <div className=\"Form-group\">\n                        <ZipCodeMap zip={ipInfo.zipCode()} country={ipInfo.countryCode()} />\n                    </div>\n                );\n            }\n        });\n    }\n});\n","import flag from 'country-code-emoji';\nimport convert from 'twemoji-basename';\n\nexport default countryCode => {\n    const codepoint = flag(countryCode);\n    const basename = convert(codepoint);\n\n    return basename && `https://twemoji.maxcdn.com/2/72x72/${basename}.png`;\n};\n","export default str => {\n    const el = document.createElement('textarea');\n    el.value = str;\n    el.setAttribute('readonly', '');\n    el.style.position = 'absolute';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    const selected = document.getSelection().rangeCount > 0 ? document.getSelection().getRangeAt(0) : false;\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n    if (selected) {\n        document.getSelection().removeAllRanges();\n        document.getSelection().addRange(selected);\n    }\n};\n"],"sourceRoot":""}